B1 = b1wtrue .B1TRUE  + b1wfalse .B1FALSE ;
B1TRUE = 'b1rtrue .B1TRUE  + B1 ;
B1FALSE = 'b1rfalse .B1FALSE  + B1 ;
B2 = b2wtrue .B2TRUE  + b2wfalse .B2FALSE ;
B2TRUE = 'b2rtrue .B2TRUE  + B2 ;
B2FALSE = 'b2rfalse .B2FALSE  + B2 ;
K = kw1 .K-1  + kw2 .K-2 ;
K-1 = 'kr1 .K-1  + K  + kInc .K-2 ;
K-2 = 'kr2 .K-2  + K  + kDec .K-1 ;
ENTER1 = enter1w1 .ENTER1-1 ;
ENTER1-1 = 'enter1r1 .ENTER1-1  + ENTER1 ;
EXIT1 = exit1w1 .EXIT1-1 ;
EXIT1-1 = 'exit1r1 .EXIT1-1  + EXIT1 ;
ENTER2 = enter2w1 .ENTER2-1 ;
ENTER2-1 = 'enter2r1 .ENTER2-1  + ENTER2 ;
EXIT2 = exit2w1 .EXIT2-1 ;
EXIT2-1 = 'exit2r1 .EXIT2-1  + EXIT2 ;
PROG0 = 'b1wFalse .PROG1 ;
PROG1 = tau .PROG2 ;
PROG2 = 'b1wTrue .PROG5 ;
PROG5 = 'kw2 .PROG6 ;
PROG6 = b2rtrue .kr2 .PROG7  + kr1 .PROG8  + b2rfalse .PROG8 ;
PROG7 = tau .PROG6 ;
PROG8 = 'enter1w1 .PROG10 ;
PROG10 = 'exit1w1 .PROG11 ;
PROG11 = 'b1wFalse .PROG1 ;
P1 = PROG0 ;
PROG12 = 'b2wFalse .PROG13 ;
PROG13 = tau .PROG14 ;
PROG14 = 'b2wTrue .PROG17 ;
PROG17 = 'kw1 .PROG18 ;
PROG18 = b1rtrue .kr1 .PROG19  + kr2 .PROG20  + b1rfalse .PROG20 ;
PROG19 = tau .PROG18 ;
PROG20 = 'enter2w1 .PROG22 ;
PROG22 = 'exit2w1 .PROG23 ;
PROG23 = 'b1wFalse .PROG13 ;
P2 = PROG12 ;
Proc = ( P1  | P2  | B1  | B2  | K  | ENTER1  | ENTER2  )\{ b1rFalse, b1wFalse, b1rTrue, b1wTrue, b1, b1Inc, b1Dec, b2rFalse, b2wFalse, b2rTrue, b2wTrue, b2, b2Inc, b2Dec, kr1, kw1, kr2, kw2, k, kInc, kDec};